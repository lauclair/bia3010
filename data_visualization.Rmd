---
title: "Visualisation des résultats : tableaux et graphiques"
author: "Laurie Auclair & Jocelyn Lauzon"
date: "10/09/2023"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
# Importer les données
```{r}
library(datasets)
data(iris)
```
 
# Exploration de données

Avant de débuter des analyses, il est important de se familisariser avec son
jeu de données afin d'avoir une idée de sa structure. Cette étape permet
d'identifier des motifs, des tendances ou des relations préalablement aux tests 
statistiques, puis de vérifier la qualité des données. Elle permet aussi d'évaluer
si les données ont besoin d'être transformées avant de procéder aux analyses.

## Quelques fonctions de base
Pour vérifier le nombre de lignes et de colonnes de votre *dataset*:
```{r}
dim(iris)
```

Pour voir les 6 premières lignes du jeu de données:
```{r}
head(iris)
```

Pour connaître le nom des colonnes:
```{r}
names(iris)
```

Pour vérifier la classe de chaque variable dans le *dataset*:
```{r}
str(iris)
```

Pour obtenir certaines statistiques descriptives de base, telles que le minimum, 
le maximum puis la moyenne (variables continues), ainsi que le nombre 
d'observations (variables catégoriques):
```{r}
summary(iris)
```

Pour oconnaître les niveaux d'une variable catégorique:
```{r}
levels(iris$Species)
```





## Visualisation d'un jeu de données
La fonction `plot()` est une fonction versatile qui permet de créer une grande
variété de figures. Dépendemment du type de data et des arguments fournis à la 
fonction, `plot()` peut générer plusieurs types de figures comme:

Une seule matrice de *scatterplots* figure peut être créée avec toutes les variables 
continues.
```{r}
plot(iris)
```

Pour créer un *scatterplot* de la relation entre une variable spécifique et une autre,
il suffit d'entrer celles-ci dans la fonction, séparées par le signe **~**. Par 
exemple, si on veut visualiser la relation entre la longueur des sépales et celle 
des pétales dans le jeu de données `iris`, on peut l'écrire ainsi:

```{r}
plot(iris$Sepal.Length~iris$Petal.Length)
```

À l'aide de la fonction `boxplot()`, on peut visualiser la dispersion d'une variable selon dles groupes d'une variable catégorique. Ce type de figure permet aussi d'identifier rapidement des valeurs aberrantes ou des anomalies. 

```{r}
boxplot(iris$Petal.Length~iris$Species)
```

La fonction `hist()` génère un histogramme de la variable qui y est précisée.

```{r}
hist(iris$Sepal.Width)
```




# Tableaux (Laurie)

# Conseils pour des figures réussies

## Légendes

# Annexe ou pas?




# Coder des graphiques (Sabrina)

## Observer la stucture des données univariées
```{r}
summary(iris)
```

# ANOVA (Sabrina)



# Régression linéaire (Sabrina)



# Autres modèles univariés... (Sabrina, à voir si c'est pertinent)



# Ordinations (Jocelyn)

## Importer les données multivariées
```{r}
library(vegan)
data(varespec) # matrice de communautés
data(varechem) # données environnementales
varechem <- scale(varechem) # centrer-réduire
```

## CA (Analyse de correspondance)

Faire l'ordination
```{r}
ca.varespec<-cca(varespec)
```
Tests statistiques avec la fonction **envfit**
```{r}
envfit.varechem<-envfit(ca.varespec, varechem)
```

### Fonction plot

```{r}
plot(ca.varespec, display = c("sites", "species"))
```

```{r}
par(mfrow=c(1,2))
plot(ca.varespec, scaling=1, type="none", main='CA - biplot scaling 1', 
     xlab=c("CA1 (%)", round((ca.varespec$CA$eig[1]/sum(ca.varespec$CA$eig))*100,2)),
     ylab=c("CA2 (%)", round((ca.varespec$CA$eig[2]/sum(ca.varespec$CA$eig))*100,2)))
points(scores(ca.varespec, display="sites", choices=c(1,2), scaling=1), pch=21, col="black", bg="steelblue", cex=1.2)
text(scores(ca.varespec, display="species", choices=c(1), scaling=1),
     scores(ca.varespec, display="species", choices=c(2), scaling=1),
     labels=rownames(scores(ca.varespec, display="species", scaling=1)),col="red", cex=0.8)
```

Incorporer les vecteurs environnementaux à la figure d'ordination
```{r}
plot(ca.varespec, display = "sites")
plot(envfit.varechem)
plot(envfit.varechem, p.max = 0.05, col = "red")#Les correlations significatives apparaissent en rouge
```


### Fonction ordiplot

```{r}
ordiplot(ca.varespec)
```



## PCA

### Fonction biplot

La fonction biplot ne peut être qu'utilisée avec ordination linéaire comme PCA.




--> afficher d'autres axes que 1 et 2....
--> envfit





ggplot
